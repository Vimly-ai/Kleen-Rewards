import { ProgressRing } from '../ui/ProgressRing'\nimport { Badge } from '../ui/Badge'\nimport { Tooltip } from '../ui/Tooltip'\nimport { \n  Trophy, \n  Star, \n  Target, \n  Zap, \n  Calendar,\n  TrendingUp,\n  Award\n} from 'lucide-react'\nimport { clsx } from 'clsx'\n\ninterface AchievementProgressProps {\n  totalAchievements: number\n  unlockedAchievements: number\n  totalPoints: number\n  recentUnlocks: Array<{\n    id: string\n    name: string\n    icon: string\n    rarity: string\n    unlockedAt: string\n  }>\n  categoryProgress: Array<{\n    category: string\n    total: number\n    unlocked: number\n    icon: React.ComponentType<any>\n    color: string\n  }>\n}\n\nexport function AchievementProgress({\n  totalAchievements,\n  unlockedAchievements,\n  totalPoints,\n  recentUnlocks,\n  categoryProgress\n}: AchievementProgressProps) {\n  const completionPercentage = (unlockedAchievements / totalAchievements) * 100\n  const nextMilestone = Math.ceil(unlockedAchievements / 10) * 10\n  const progressToNextMilestone = ((unlockedAchievements % 10) / 10) * 100\n  \n  return (\n    <div className=\"space-y-6\">\n      {/* Overall Progress */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        {/* Completion Ring */}\n        <div className=\"text-center space-y-3\">\n          <ProgressRing\n            progress={completionPercentage}\n            size=\"lg\"\n            color=\"primary\"\n            showPercentage={false}\n          >\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-primary-600\">\n                {unlockedAchievements}\n              </div>\n              <div className=\"text-xs text-gray-500\">\n                of {totalAchievements}\n              </div>\n            </div>\n          </ProgressRing>\n          <div>\n            <h4 className=\"font-medium text-gray-900\">Achievements</h4>\n            <p className=\"text-sm text-gray-600\">\n              {Math.round(completionPercentage)}% complete\n            </p>\n          </div>\n        </div>\n        \n        {/* Next Milestone */}\n        <div className=\"text-center space-y-3\">\n          <ProgressRing\n            progress={progressToNextMilestone}\n            size=\"lg\"\n            color=\"warning\"\n            showPercentage={false}\n          >\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-orange-600\">\n                {nextMilestone}\n              </div>\n              <div className=\"text-xs text-gray-500\">\n                next\n              </div>\n            </div>\n          </ProgressRing>\n          <div>\n            <h4 className=\"font-medium text-gray-900\">Next Milestone</h4>\n            <p className=\"text-sm text-gray-600\">\n              {nextMilestone - unlockedAchievements} more to go\n            </p>\n          </div>\n        </div>\n        \n        {/* Achievement Points */}\n        <div className=\"text-center space-y-3\">\n          <div className=\"w-24 h-24 mx-auto bg-gradient-to-br from-yellow-100 to-yellow-200 rounded-full flex items-center justify-center\">\n            <div className=\"text-center\">\n              <Star className=\"w-8 h-8 text-yellow-600 mx-auto mb-1\" />\n              <div className=\"text-lg font-bold text-yellow-700\">\n                {totalPoints}\n              </div>\n            </div>\n          </div>\n          <div>\n            <h4 className=\"font-medium text-gray-900\">Achievement Points</h4>\n            <p className=\"text-sm text-gray-600\">\n              Earned from unlocks\n            </p>\n          </div>\n        </div>\n      </div>\n      \n      {/* Category Progress */}\n      <div>\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\n          <Target className=\"w-5 h-5\" />\n          Progress by Category\n        </h3>\n        \n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {categoryProgress.map((category) => {\n            const percentage = (category.unlocked / category.total) * 100\n            const Icon = category.icon\n            \n            return (\n              <div\n                key={category.category}\n                className=\"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow\"\n              >\n                <div className=\"flex items-center justify-between mb-3\">\n                  <div className=\"flex items-center gap-2\">\n                    <div className={clsx(\n                      'p-2 rounded-lg',\n                      category.color.replace('text-', 'bg-').replace('600', '100')\n                    )}>\n                      <Icon className={clsx('w-4 h-4', category.color)} />\n                    </div>\n                    <span className=\"font-medium text-gray-900 capitalize\">\n                      {category.category}\n                    </span>\n                  </div>\n                  \n                  <Badge variant=\"secondary\" className=\"text-xs\">\n                    {category.unlocked}/{category.total}\n                  </Badge>\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                    <div\n                      className={clsx(\n                        'h-2 rounded-full transition-all duration-500',\n                        category.color.replace('text-', 'bg-')\n                      )}\n                      style={{ width: `${percentage}%` }}\n                    />\n                  </div>\n                  \n                  <div className=\"flex justify-between text-xs text-gray-600\">\n                    <span>{Math.round(percentage)}% complete</span>\n                    <span>{category.total - category.unlocked} remaining</span>\n                  </div>\n                </div>\n              </div>\n            )\n          })}\n        </div>\n      </div>\n      \n      {/* Recent Unlocks */}\n      {recentUnlocks.length > 0 && (\n        <div>\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\n            <Zap className=\"w-5 h-5\" />\n            Recent Unlocks\n          </h3>\n          \n          <div className=\"space-y-3\">\n            {recentUnlocks.slice(0, 3).map((achievement) => {\n              const timeAgo = (() => {\n                const date = new Date(achievement.unlockedAt)\n                const now = new Date()\n                const diff = now.getTime() - date.getTime()\n                const days = Math.floor(diff / (1000 * 60 * 60 * 24))\n                const hours = Math.floor(diff / (1000 * 60 * 60))\n                \n                if (days > 0) return `${days}d ago`\n                if (hours > 0) return `${hours}h ago`\n                return 'Just now'\n              })()\n              \n              return (\n                <div\n                  key={achievement.id}\n                  className=\"flex items-center gap-3 p-3 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg\"\n                >\n                  <div className=\"text-2xl\">\n                    {achievement.icon}\n                  </div>\n                  \n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-2\">\n                      <h4 className=\"font-medium text-gray-900\">\n                        {achievement.name}\n                      </h4>\n                      <Badge \n                        variant=\"success\"\n                        className=\"text-xs\"\n                      >\n                        {achievement.rarity}\n                      </Badge>\n                    </div>\n                    <p className=\"text-sm text-green-700\">\n                      Unlocked {timeAgo}\n                    </p>\n                  </div>\n                  \n                  <div className=\"text-green-600\">\n                    <Trophy className=\"w-5 h-5\" />\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        </div>\n      )}\n      \n      {/* Achievement Tips */}\n      <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\n          <TrendingUp className=\"w-5 h-5 text-blue-600\" />\n          Tips to Unlock More Achievements\n        </h3>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\n          <div className=\"space-y-2\">\n            <div className=\"flex items-center gap-2\">\n              <Calendar className=\"w-4 h-4 text-blue-600\" />\n              <span className=\"font-medium text-gray-900\">Daily Consistency</span>\n            </div>\n            <ul className=\"space-y-1 text-gray-600 list-disc list-inside ml-6\">\n              <li>Check in every day to build streaks</li>\n              <li>Aim for early check-ins for bonus points</li>\n              <li>Complete weekly and monthly challenges</li>\n            </ul>\n          </div>\n          \n          <div className=\"space-y-2\">\n            <div className=\"flex items-center gap-2\">\n              <Award className=\"w-4 h-4 text-blue-600\" />\n              <span className=\"font-medium text-gray-900\">Special Activities</span>\n            </div>\n            <ul className=\"space-y-1 text-gray-600 list-disc list-inside ml-6\">\n              <li>Participate in company events</li>\n              <li>Refer colleagues to the platform</li>\n              <li>Engage with team activities</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}